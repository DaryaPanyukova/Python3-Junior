N, M=map(int,input().split())
a=set()
b=set()
for i in range(N):
    a.add(int(input()))
    
for i in range(M):
    b.add(int(input()))

print(len(a&b), sorted(a&b))
print(len(a.difference(b)), sorted(a.difference(b)))
print(len(b.difference(a)), sorted(b.difference(a)))
